{"id":"triviape-0ya","title":"[2.1] Create standardized API response wrapper function","description":"Create reusable response wrapper with structure: { success, data, meta: { timestamp, requestId } }. Will be applied to all endpoints. Files: app/lib/api/response.ts (new)","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-22T20:57:14.135726-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:57:14.135726-08:00","dependencies":[{"issue_id":"triviape-0ya","depends_on_id":"triviape-5sz","type":"blocks","created_at":"2026-01-22T20:57:18.434263-08:00","created_by":"Dylan Chidambaram"}]}
{"id":"triviape-1m1","title":"[4.5] Remove mock data from production","description":"Remove all mock data that's accessible in production builds. Keep only in test/dev environments. Audit app/lib/mockData* and related.","status":"open","priority":1,"issue_type":"bug","created_at":"2026-01-22T20:58:36.679577-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:58:36.679577-08:00"}
{"id":"triviape-1sw","title":"[1.1] Remove hard-coded Bearer token from /api/user/profile","description":"Remove test code: const authHeader = req.headers.get('authorization'); if (authHeader === 'Bearer expired-token'). This is a critical security vulnerability exposing test credentials in production.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-22T20:17:13.156102-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T21:03:26.458864-08:00","closed_at":"2026-01-22T21:03:26.458864-08:00","close_reason":"Duplicate - consolidated with primary IDs (bgq, yoc, zms, qig, oaj)"}
{"id":"triviape-2aq","title":"[3.4] Migrate client hooks to chosen auth system","description":"Update useAuth, auth state management hooks to use single system. File: app/hooks/useAuth.ts and related.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-22T20:57:26.457265-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:57:26.457265-08:00"}
{"id":"triviape-2fc","title":"[5.4] Pin Node.js version","description":"Add .nvmrc file with pinned Node version. Ensures reproducible builds across environments.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-22T20:58:47.316978-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:58:47.316978-08:00"}
{"id":"triviape-2gn","title":"Phase 5: Quality Gates (Ongoing Prevention)","description":"Add pre-deploy tests, linting enforcement, bundle monitoring, pin Node version","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-22T20:15:48.881368-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:15:48.881368-08:00","dependencies":[{"issue_id":"triviape-2gn","depends_on_id":"triviape-tsc","type":"blocks","created_at":"2026-01-22T20:16:58.509675-08:00","created_by":"Dylan Chidambaram"}]}
{"id":"triviape-2oq","title":"[6.4] Expand E2E test coverage","description":"Increase E2E test coverage from ~5% to 20%+. Focus on critical user journeys (login, quiz submission, leaderboard).","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-22T20:58:55.109997-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:58:55.109997-08:00"}
{"id":"triviape-328","title":"[3.5] Remove deprecated auth system completely","description":"Delete Firebase Auth code/imports if NextAuth chosen (or vice versa). Remove from dependencies, env vars, providers.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-22T20:57:26.540588-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:57:26.540588-08:00"}
{"id":"triviape-3pv","title":"[7.4] Track and report on improvement metrics","description":"Measure and report: type check % (target 100%), test pass % (95%+), E2E coverage (20%+), bundle size, build time, Lighthouse score.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-22T21:03:00.616527-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T21:03:00.616527-08:00"}
{"id":"triviape-5a8","title":"[5.1] Add pre-deployment test step to CI","description":"Add 'npm run test' to pre-deploy pipeline. Ensure all tests pass before allowing deployment.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-22T20:58:47.069421-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:58:47.069421-08:00"}
{"id":"triviape-5pc","title":"[1.4] Add type checking to CI pipeline","description":"Add tsc --noEmit check to pre-deploy CI steps to catch type errors before shipping.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-22T20:17:13.439903-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T21:03:26.46842-08:00","closed_at":"2026-01-22T21:03:26.46842-08:00","close_reason":"Duplicate - consolidated with primary IDs (bgq, yoc, zms, qig, oaj)"}
{"id":"triviape-5sz","title":"Phase 1: Critical Security Fixes","description":"Remove hard-coded test tokens, test endpoints, fix ignoreBuildErrors, add type checking to CI. BLOCKS everything else.","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-22T20:15:41.501448-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:15:41.501448-08:00","dependencies":[{"issue_id":"triviape-5sz","depends_on_id":"triviape-tem","type":"blocks","created_at":"2026-01-22T20:16:58.243731-08:00","created_by":"Dylan Chidambaram"}]}
{"id":"triviape-5x5","title":"[3.3] Migrate API routes to chosen auth system","description":"Systematically update all API routes to use single auth system. File: app/api/*/route.ts files. Track per endpoint.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-22T20:57:26.375227-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:57:26.375227-08:00"}
{"id":"triviape-6lk","title":"[5.3] Add bundle size monitoring","description":"Track bundle size in CI. Alert on significant increases. Prevents performance regressions.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-22T20:58:47.232777-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:58:47.232777-08:00"}
{"id":"triviape-6va","title":"[7.2] Document decisions and patterns established","description":"Create decision log documenting: auth system choice, state management patterns, API response standard, etc. File: docs/DECISIONS.md","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-22T21:03:00.442428-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T21:03:00.442428-08:00"}
{"id":"triviape-8sp","title":"[4.1] Reduce provider nesting in app/layout.tsx","description":"Currently 5 nested providers (SessionProvider, ReactQueryProvider, ResponsiveUIProvider, FirebaseProvider, PerformanceProvider). Remove unnecessary providers, consolidate where possible. Eliminates hydration mismatch risk.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-22T20:58:36.34358-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:58:36.34358-08:00"}
{"id":"triviape-b78","title":"[4.3] Remove localStorage cache bypass","description":"Stop using localStorage as fallback data source. React Query is source of truth. Remove: app/hooks/useLocalStorage*, localStorage fallback patterns.","status":"open","priority":1,"issue_type":"bug","created_at":"2026-01-22T20:58:36.516126-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:58:36.516126-08:00"}
{"id":"triviape-bgq","title":"[1.1] Remove hard-coded Bearer token from /api/user/profile","description":"CRITICAL SECURITY: Remove test code checking for 'Bearer expired-token'. This exposes test credentials in production code. Affects: app/api/user/profile/route.ts","status":"open","priority":0,"issue_type":"bug","created_at":"2026-01-22T20:55:30.950949-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:55:30.950949-08:00"}
{"id":"triviape-bs3","title":"[1.5] Remove or gate mock data fallback in production","description":"Remove silent fallback to mock data in production. If real data unavailable, should error not silently use stale data.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-22T20:17:13.524566-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T21:03:26.470921-08:00","closed_at":"2026-01-22T21:03:26.470921-08:00","close_reason":"Duplicate - consolidated with primary IDs (bgq, yoc, zms, qig, oaj)"}
{"id":"triviape-bwm","title":"[4.4] Consolidate real-time updates into React Query","description":"Replace Firebase listeners with React Query subscriptions. Remove duplicate update mechanisms. Single source of truth for all state.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-22T20:58:36.59798-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:58:36.59798-08:00"}
{"id":"triviape-d6q","title":"[5.2] Enable linting enforcement in CI","description":"Add eslint to CI pipeline. Fail builds on lint violations. Currently linting may not be enforced.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-22T20:58:47.152645-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:58:47.152645-08:00"}
{"id":"triviape-drl","title":"[7.3] Create runbooks for common operations","description":"Document: how to add new API endpoint (with standard response), how to add new data query, how to authenticate new route, etc.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-22T21:03:00.532297-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T21:03:00.532297-08:00"}
{"id":"triviape-drz","title":"[6.2] Fix performance monitoring (remove monkeypatching)","description":"Remove monkeypatching of network calls for performance monitoring. Use proper API instrumentation instead. Files: app/lib/performance*","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-22T20:58:54.94-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:58:54.94-08:00"}
{"id":"triviape-e86","title":"[2.2] Apply response wrapper to all API routes","description":"Systematically apply standardized wrapper to all endpoints: /api/auth/*, /api/user/*, /api/quiz/*, /api/daily-quiz/*. Track completion per endpoint.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-22T20:57:14.222315-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:57:14.222315-08:00","dependencies":[{"issue_id":"triviape-e86","depends_on_id":"triviape-5sz","type":"blocks","created_at":"2026-01-22T20:57:18.495274-08:00","created_by":"Dylan Chidambaram"}]}
{"id":"triviape-ggs","title":"[3.2] Choose and plan consolidation to single auth system","description":"Decide: NextAuth (recommended) vs Firebase Auth. Plan migration path. Document differences in property names (uid vs id, etc).","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-22T20:57:26.288371-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:57:26.288371-08:00"}
{"id":"triviape-gs6","title":"Phase 3: Authentication Consolidation (Unblocks state)","description":"Audit current auth, choose single system (NextAuth), migrate API routes and client hooks, remove other system","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-22T20:15:44.889283-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:15:44.889283-08:00","dependencies":[{"issue_id":"triviape-gs6","depends_on_id":"triviape-slg","type":"blocks","created_at":"2026-01-22T20:16:58.38251-08:00","created_by":"Dylan Chidambaram"}]}
{"id":"triviape-hnh","title":"Phase 6: Performance \u0026 Testing Hardening","description":"Reduce hydration checks, fix perf monitoring, remove over-mocking, add E2E tests to CI","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-22T20:15:50.605452-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:15:50.605452-08:00","dependencies":[{"issue_id":"triviape-hnh","depends_on_id":"triviape-2gn","type":"blocks","created_at":"2026-01-22T20:16:58.577119-08:00","created_by":"Dylan Chidambaram"}]}
{"id":"triviape-jmf","title":"[6.3] Fix over-mocking in tests","description":"Remove excessive mocks that prevent testing real behavior. Mock external deps only, not app code. Affects: test files using jest.mock excessively.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-22T20:58:55.028108-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:58:55.028108-08:00"}
{"id":"triviape-krh","title":"[1.2] Remove or gate test endpoints (/api/auth/test-*)","description":"Remove or properly gate test endpoints like /api/auth/test-login, /api/auth/test-logout from production. Ensure they're only available in dev.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-22T20:17:13.26209-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T21:03:26.463645-08:00","closed_at":"2026-01-22T21:03:26.463645-08:00","close_reason":"Duplicate - consolidated with primary IDs (bgq, yoc, zms, qig, oaj)"}
{"id":"triviape-oaj","title":"[1.5] Remove or gate mock data fallback in production","description":"Silent fallback to mock data in production. Should fail loudly if real data unavailable, not silently use stale data.","status":"open","priority":0,"issue_type":"bug","created_at":"2026-01-22T20:55:31.371745-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:55:31.371745-08:00"}
{"id":"triviape-pq3","title":"[1.3] Remove ignoreBuildErrors: true from build config","description":"Remove ignoreBuildErrors: true from next.config.js to enable TypeScript strict mode and prevent shipping broken code.","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-22T20:17:13.355259-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T21:03:26.466371-08:00","closed_at":"2026-01-22T21:03:26.466371-08:00","close_reason":"Duplicate - consolidated with primary IDs (bgq, yoc, zms, qig, oaj)"}
{"id":"triviape-qig","title":"[1.4] Add type checking to CI pipeline","description":"Add 'tsc --noEmit' to pre-deploy CI steps. Catch type errors before shipping code.","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-22T20:55:31.285838-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:55:31.285838-08:00"}
{"id":"triviape-qo2","title":"[6.1] Reduce excessive hydration checks in components","description":"Currently 3 separate isClient/useEffect hydration checks causing unnecessary re-renders. Consolidate to single hydration check per component.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-22T20:58:54.849222-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:58:54.849222-08:00"}
{"id":"triviape-rca","title":"Phase 7: Documentation \u0026 Validation","description":"Update analysis doc with resolutions, document decisions, create runbooks, track metrics","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-22T20:15:52.575685-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:15:52.575685-08:00","dependencies":[{"issue_id":"triviape-rca","depends_on_id":"triviape-hnh","type":"blocks","created_at":"2026-01-22T20:16:58.639251-08:00","created_by":"Dylan Chidambaram"}]}
{"id":"triviape-slg","title":"Phase 2: API Standardization (Foundation)","description":"Standardized response wrapper, request ID tracking, error handling middleware, fix all endpoints","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-22T20:15:43.365403-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:15:43.365403-08:00","dependencies":[{"issue_id":"triviape-slg","depends_on_id":"triviape-5sz","type":"blocks","created_at":"2026-01-22T20:16:58.316361-08:00","created_by":"Dylan Chidambaram"}]}
{"id":"triviape-tem","title":"Phase 0: Establish Baseline \u0026 Issue Index","description":"Extract all 82 issues into tracking, map dependencies, classify by file/module, create metrics baseline","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-22T20:15:37.791867-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:15:37.791867-08:00"}
{"id":"triviape-tsc","title":"Phase 4: State Management Consolidation","description":"Reduce provider nesting, unify React Query config, consolidate real-time updates, remove localStorage bypass","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-22T20:15:46.64302-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:15:46.64302-08:00","dependencies":[{"issue_id":"triviape-tsc","depends_on_id":"triviape-gs6","type":"blocks","created_at":"2026-01-22T20:16:58.44446-08:00","created_by":"Dylan Chidambaram"}]}
{"id":"triviape-ul2","title":"[2.3] Implement centralized error handling middleware","description":"Create middleware layer to catch and format all errors consistently. Handle auth errors, validation errors, server errors uniformly.","status":"open","priority":1,"issue_type":"feature","created_at":"2026-01-22T20:57:14.306399-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:57:14.306399-08:00","dependencies":[{"issue_id":"triviape-ul2","depends_on_id":"triviape-5sz","type":"blocks","created_at":"2026-01-22T20:57:18.557432-08:00","created_by":"Dylan Chidambaram"}]}
{"id":"triviape-vtf","title":"[2.4] Add request ID tracking to all responses","description":"Add unique requestId to response meta for tracing. Enables debugging of request flows across logs.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-22T20:57:14.389232-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:57:14.389232-08:00","dependencies":[{"issue_id":"triviape-vtf","depends_on_id":"triviape-5sz","type":"blocks","created_at":"2026-01-22T20:57:18.617369-08:00","created_by":"Dylan Chidambaram"}]}
{"id":"triviape-xkv","title":"[7.1] Update CODEBASE_ANALYSIS.md with resolution status","description":"As issues are resolved, update the analysis document with completion status, approach taken, lessons learned.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-22T21:03:00.348679-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T21:03:00.348679-08:00"}
{"id":"triviape-yoc","title":"[1.2] Remove or gate test endpoints (/api/auth/test-*)","description":"CRITICAL SECURITY: Test endpoints like /api/auth/test-login, /api/auth/test-logout exposed in production. Remove or gate to dev only.","status":"open","priority":0,"issue_type":"bug","created_at":"2026-01-22T20:55:31.04726-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:55:31.04726-08:00"}
{"id":"triviape-zg4","title":"[4.2] Centralize React Query configuration","description":"Standardize staleTime, gcTime, retry settings across all query hooks. Currently inconsistent: useOptimizedQuery vs useDailyQuiz vs useLeaderboard use different settings. Create queryClient config with sensible defaults.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-22T20:58:36.433458-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:58:36.433458-08:00"}
{"id":"triviape-zmf","title":"[3.1] Audit current authentication system usage","description":"Map out where Firebase Auth vs NextAuth is used across the codebase. Create inventory: which routes/components use which system. Identify overlaps and conflicts.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-22T20:57:26.197078-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:57:26.197078-08:00"}
{"id":"triviape-zms","title":"[1.3] Remove ignoreBuildErrors: true from next.config.js","description":"CRITICAL: Prevents TypeScript errors from failing builds. Allows broken code to ship. Must enable strict type checking.","status":"open","priority":0,"issue_type":"bug","created_at":"2026-01-22T20:55:31.167639-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:55:31.167639-08:00"}
{"id":"triviape-zxq","title":"[5.5] Add E2E tests to CI pipeline","description":"Run Playwright E2E tests in CI. Catch integration issues before production.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-22T20:58:47.397576-08:00","created_by":"Dylan Chidambaram","updated_at":"2026-01-22T20:58:47.397576-08:00"}
